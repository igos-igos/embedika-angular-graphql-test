<ng-container *ngIf="shipList$ | async as shipList">
  <main class="main">
    <section class="ship-list">
      <h1>SpaceX Ships</h1>
      <ul>
        <li
          *ngFor="let ship of shipList | appFilter: searchText | checkboxFilter: portList | radioFilter: type | paginate: {itemsPerPage: 5, currentPage: currentPage}">
          <p><b>{{ship.name}}</b> <a [routerLink]="['/', ship.id]">open details</a></p>
          <p>
            <span>Тип</span> <span>{{ship.type}}</span>
            <span>Порт</span> <span>{{ship.home_port}}</span>
          </p>
        </li>
      </ul>

      <pagination-template class="pagination" #p="paginationApi" (pageChange)="currentPage = $event">
        <button class="pagination__btn" [disabled]="p.isFirstPage()" (click)="p.previous()">prev</button>
        <div *ngFor="let page of p.pages">
          <div *ngIf="p.getCurrent() === page.value">
            <span>{{ page.label }}</span>
          </div>
        </div>
        <button class="pagination__btn" [disabled]="p.isLastPage()" (click)="p.next()"> next </button>
      </pagination-template>
    </section>

    <section class="filters">
      <span class="filters-title">Фильтры</span>
      <app-text-filter class="text-filter"></app-text-filter>
      <app-checkbox-filter></app-checkbox-filter>
      <app-radio-filter></app-radio-filter>
    </section>

  </main>
</ng-container>