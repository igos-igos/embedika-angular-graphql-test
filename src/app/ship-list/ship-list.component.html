<ng-container *ngIf="shipList$ | async as shipList">
  <main class="main">
    <section class="ship-list">
      <h1 class="title">SpaceX Ships</h1>
      <ul class="list">
        <li class="item"
          *ngFor="let ship of shipList | appFilter: searchText | checkboxFilter: portList | radioFilter: type | paginate: {itemsPerPage: 5, currentPage: currentPage}">
          <p>
            <b class="ship-name">{{ship.name}}</b>
            <a [routerLink]="['/', ship.id]">
              <img src="assets/icons/link-arrow.svg" alt="Стрелочка, повернутая вправо">
            </a>
          </p>
          <ul class="option-list">
            <li class="option"><span class="option-name">Тип</span>
              <span class="option-value">{{ship.type}}</span></li>
            <li class="option"><span class="option-name">Порт</span>
              <span class="option-value">{{ship.home_port}}</span></li>
          </ul>
        </li>
      </ul>

      <pagination-template class="pagination" #p="paginationApi" (pageChange)="currentPage = $event">
        <button class="pagination__btn" [disabled]="p.isFirstPage()" (click)="p.previous()">prev</button>
        <div *ngFor="let page of p.pages">
          <div *ngIf="p.getCurrent() === page.value">
            <span>{{ page.label }}</span>
          </div>
        </div>
        <button class="pagination__btn" [disabled]="p.isLastPage()" (click)="p.next()"> next </button>
      </pagination-template>
    </section>

    <section class="filters">
      <span class="filters-title">Фильтры</span>
      <app-text-filter class="text-filter"></app-text-filter>
      <app-checkbox-filter class="checkbox-filter"></app-checkbox-filter>
      <app-radio-filter class="radio-filter"></app-radio-filter>
    </section>

  </main>
</ng-container>