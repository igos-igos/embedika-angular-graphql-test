<ng-container *ngIf="shipList$ | async as shipList">
  <main>

    <input type="text" [(ngModel)]="searchText">

    <fieldset>
      <legend>Порт</legend>
      <input type="checkbox" id="Port Canaveral" name="Port Canaveral" [(ngModel)]="portList['Port Canaveral']">
      <label for="Port Canaveral">Port Canaveral</label>
      <input type="checkbox" id="Port of Los Angeles" name="Port of Los Angeles" [(ngModel)]="portList['Port of Los Angeles']">
      <label for="Port of Los Angeles">Port of Los Angeles</label>
      <input type="checkbox" id="Fort Lauderdale" name="Fort Lauderdale" [(ngModel)]="portList['Fort Lauderdale']">
      <label for="Fort Lauderdale">Fort Lauderdale</label>
    </fieldset>

    <ul>
      <li *ngFor="let ship of shipList | appFilter: searchText | checkboxFilter: portList | paginate: {itemsPerPage: 5, currentPage: currentPage}">
        <p><b>{{ship.name}}</b> <a [routerLink]="['/', ship.id]">open details</a></p>
        <p>
          <span>Тип</span> <span>{{ship.type}}</span>
          <span>Порт</span> <span>{{ship.home_port}}</span>
        </p>
      </li>
    </ul>

    <pagination-template class="pagination" #p="paginationApi" (pageChange)="currentPage = $event">
      <button class="pagination__btn" [disabled]="p.isFirstPage()" (click)="p.previous()">prev</button>
      <div *ngFor="let page of p.pages">
        <div *ngIf="p.getCurrent() === page.value">
          <span>{{ page.label }}</span>
        </div>
      </div>
        <button class="pagination__btn" [disabled]="p.isLastPage()" (click)="p.next()"> next </button>
    </pagination-template>

  </main>
</ng-container>